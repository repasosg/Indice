<!doctype html>
<html lang="es">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Aprende Jugando - Castellano 5¬∫ Primaria</title>
  <style>
        body {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Comic Sans MS', cursive, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100%;
            color: #333;
            overflow-x: hidden;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
        }

        html {
            height: 100%;
            overflow-x: hidden;
            overflow-y: auto;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            width: 100%;
            box-sizing: border-box;
            position: relative;
        }

        .header {
            text-align: center;
            background: white;
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .header h1 {
            color: #4a5568;
            font-size: 2.5rem;
            margin: 0;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        .header p {
            color: #718096;
            font-size: 1.2rem;
            margin: 10px 0 0 0;
        }

        .menu-nav {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .menu-btn {
            background: white;
            color: #4a5568;
            border: 3px solid #e2e8f0;
            padding: 15px 25px;
            border-radius: 25px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .menu-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.2);
            border-color: #667eea;
        }

        .menu-btn.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-color: #667eea;
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.3);
        }

        .exercise-container {
            max-width: 800px;
            margin: 0 auto;
            width: 100%;
            box-sizing: border-box;
            position: relative;
            overflow: visible;
        }

        .game-card {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            width: 100%;
            box-sizing: border-box;
            position: relative;
            overflow: visible;
            min-height: auto;
        }

        .game-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0,0,0,0.3);
        }

        .game-title {
            font-size: 1.8rem;
            color: #4a5568;
            margin-bottom: 20px;
            text-align: center;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
        }

        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 5px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }

        .btn:active {
            transform: translateY(0);
        }

        .btn-success {
            background: linear-gradient(135deg, #48bb78 0%, #38a169 100%);
        }

        .btn-danger {
            background: linear-gradient(135deg, #f56565 0%, #e53e3e 100%);
        }

        .exercise-area {
            background: #f7fafc;
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
            border: 2px solid #e2e8f0;
        }

        .word-item {
            display: inline-block;
            background: #667eea;
            color: white;
            padding: 8px 16px;
            margin: 5px;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            user-select: none;
        }

        .word-item:hover {
            background: #5a67d8;
            transform: scale(1.05);
        }

        .word-item.selected {
            background: #48bb78;
            transform: scale(1.1);
        }

        .drop-zone {
            min-height: 60px;
            border: 3px dashed #cbd5e0;
            border-radius: 15px;
            padding: 15px;
            margin: 10px 0;
            background: #f7fafc;
            transition: all 0.3s ease;
        }

        .drop-zone.active {
            border-color: #667eea;
            background: #edf2f7;
        }

        .drop-zone h4 {
            margin: 0 0 10px 0;
            color: #4a5568;
        }

        .score {
            text-align: center;
            font-size: 1.5rem;
            font-weight: bold;
            color: #4a5568;
            margin: 20px 0;
        }

        .explanation {
            background: #e6fffa;
            border: 2px solid #38b2ac;
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
            display: none;
        }

        .explanation.show {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .input-group {
            margin: 15px 0;
        }

        .input-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: #4a5568;
        }

        .input-group input {
            width: 100%;
            padding: 12px;
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            font-size: 1rem;
            transition: border-color 0.3s ease;
        }

        .input-group input:focus {
            outline: none;
            border-color: #667eea;
        }

        .comic-question {
            background: #fff5f5;
            border: 2px solid #fc8181;
            border-radius: 15px;
            padding: 20px;
            margin: 15px 0;
        }

        .comic-question h4 {
            color: #c53030;
            margin: 0 0 15px 0;
        }

        .options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 10px;
            margin: 15px 0;
        }

        .option {
            background: white;
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            padding: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }

        .option:hover {
            border-color: #667eea;
            background: #f7fafc;
        }

        .option.selected {
            border-color: #48bb78;
            background: #f0fff4;
        }

        .option.correct {
            border-color: #48bb78;
            background: #f0fff4;
        }

        .option.incorrect {
            border-color: #f56565;
            background: #fed7d7;
        }

        .hidden {
            display: none;
        }

        .progress-bar {
            width: 100%;
            height: 20px;
            background: #e2e8f0;
            border-radius: 10px;
            overflow: hidden;
            margin: 20px 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(135deg, #48bb78 0%, #38a169 100%);
            width: 0%;
            transition: width 0.5s ease;
        }

        /* Estilos para el c√≥mic visual */
        .comic-strip {
            display: flex;
            gap: 20px;
            justify-content: center;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        .comic-panel {
            position: relative;
            width: 300px;
            height: 250px;
            background: white;
            border: 3px solid #2d3748;
            border-radius: 10px;
            overflow: visible;
        }

        .panel-content {
            position: relative;
            width: 100%;
            height: 100%;
            padding: 15px;
        }

        .panel-border {
            position: absolute;
            top: -3px;
            left: -3px;
            right: -3px;
            bottom: -3px;
            border: 3px solid transparent;
            border-radius: 10px;
            pointer-events: all;
            cursor: pointer;
        }

        .character {
            font-size: 3rem;
            position: absolute;
            bottom: 20px;
        }

        .character1 {
            left: 30px;
        }

        .character2 {
            right: 30px;
        }

        .speech-bubble {
            position: absolute;
            background: white;
            border: 2px solid #2d3748;
            border-radius: 20px;
            padding: 10px 15px;
            max-width: 120px;
            top: 30px;
            left: 80px;
            cursor: pointer;
            font-size: 0.9rem;
        }

        .speech-bubble::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 20px;
            width: 0;
            height: 0;
            border-left: 10px solid transparent;
            border-right: 10px solid transparent;
            border-top: 10px solid #2d3748;
        }

        .thought-bubble {
            position: absolute;
            background: white;
            border: 2px solid #2d3748;
            border-radius: 50px;
            padding: 10px 15px;
            max-width: 120px;
            top: 30px;
            left: 20px;
            cursor: pointer;
            font-size: 0.9rem;
        }

        .thought-bubble::after {
            content: '‚óã ‚óã ‚óã';
            position: absolute;
            bottom: -25px;
            right: 30px;
            font-size: 0.6rem;
            color: #2d3748;
        }

        .narrative-box {
            position: absolute;
            background: #f7fafc;
            border: 2px solid #4a5568;
            border-radius: 5px;
            padding: 8px 12px;
            top: 10px;
            right: 10px;
            max-width: 100px;
            cursor: pointer;
            font-size: 0.8rem;
            font-style: italic;
        }

        .onomatopeya {
            position: absolute;
            font-size: 1.5rem;
            font-weight: bold;
            color: #e53e3e;
            text-shadow: 2px 2px 0px #2d3748;
            top: 80px;
            right: 40px;
            cursor: pointer;
            transform: rotate(-15deg);
        }

        .motion-lines {
            position: absolute;
            right: 60px;
            bottom: 60px;
            width: 40px;
            height: 40px;
            cursor: pointer;
        }

        .motion-lines::before {
            content: '';
            position: absolute;
            width: 30px;
            height: 2px;
            background: #2d3748;
            top: 10px;
            transform: rotate(45deg);
            box-shadow: 0 8px 0 #2d3748, 0 16px 0 #2d3748;
        }

        .clickable-element {
            transition: all 0.3s ease;
        }

        .clickable-element:hover {
            transform: scale(1.05);
            box-shadow: 0 0 10px rgba(102, 126, 234, 0.5);
        }

        .clickable-element.selected {
            box-shadow: 0 0 15px rgba(72, 187, 120, 0.8);
            transform: scale(1.1);
        }

        .comic-elements-selector {
            background: #edf2f7;
            border-radius: 15px;
            padding: 20px;
            margin-top: 20px;
            text-align: center;
        }

        .comic-elements-selector h4 {
            color: #4a5568;
            margin-bottom: 15px;
        }

        .element-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
            margin-bottom: 15px;
        }

        .element-btn {
            background: white;
            border: 2px solid #e2e8f0;
            border-radius: 20px;
            padding: 8px 16px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }

        .element-btn:hover {
            border-color: #667eea;
            background: #f7fafc;
        }

        .element-btn.active {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }

        .visual-feedback {
            min-height: 30px;
            font-weight: bold;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .feedback-correct {
            color: #48bb78;
        }

        .feedback-incorrect {
            color: #f56565;
        }

        /* Estilos para los n√∫meros en el c√≥mic */
        .number-marker {
            position: absolute;
            background: #667eea;
            color: white;
            width: 25px;
            height: 25px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 0.9rem;
            border: 2px solid white;
            box-shadow: 0 2px 8px rgba(0,0,0,0.3);
            top: -10px;
            right: -10px;
            z-index: 10;
        }

        .border-number {
            top: 5px;
            left: 5px;
            right: auto;
        }

        /* Estilos para la grilla de asociaciones */
        .associations-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .association-item {
            display: flex;
            align-items: center;
            gap: 15px;
            background: white;
            padding: 15px;
            border-radius: 10px;
            border: 2px solid #e2e8f0;
            transition: all 0.3s ease;
        }

        .association-item:hover {
            border-color: #667eea;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .number-display {
            background: #667eea;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.1rem;
            flex-shrink: 0;
        }

        .element-select {
            flex: 1;
            padding: 8px 12px;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            font-size: 1rem;
            background: white;
            cursor: pointer;
            transition: border-color 0.3s ease;
        }

        .element-select:focus {
            outline: none;
            border-color: #667eea;
        }

        .element-select.correct {
            border-color: #48bb78;
            background: #f0fff4;
        }

        .element-select.incorrect {
            border-color: #f56565;
            background: #fed7d7;
        }

        .result-indicator {
            font-size: 1.2rem;
            font-weight: bold;
            width: 30px;
            text-align: center;
            flex-shrink: 0;
        }

        @media (max-width: 1024px) {
            .container {
                padding: 15px;
                overflow-x: hidden;
            }
            
            .game-card {
                padding: 20px;
                margin-bottom: 20px;
            }
            
            .exercise-area {
                padding: 15px;
                margin: 15px 0;
            }
            
            .input-group {
                margin: 10px 0;
            }
        }

        @media (max-width: 768px) {
            .menu-nav {
                flex-direction: column;
                align-items: center;
            }
            
            .menu-btn {
                width: 90%;
                max-width: 300px;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .options {
                grid-template-columns: 1fr;
            }
            
            .container {
                padding: 10px;
                overflow-x: hidden;
            }

            .comic-strip {
                flex-direction: column;
                align-items: center;
            }

            .comic-panel {
                width: 280px;
                height: 220px;
            }

            .element-buttons {
                flex-direction: column;
                align-items: center;
            }

            .element-btn {
                width: 200px;
            }
            
            .game-card {
                padding: 15px;
                margin-bottom: 15px;
            }
            
            .exercise-area {
                padding: 10px;
                margin: 10px 0;
            }
        }
    </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
  <script src="/_sdk/element_sdk.js" type="text/javascript"></script>
  <script src="https://cdn.tailwindcss.com" type="text/javascript"></script>
 </head>
 <body>
  <div class="container">
   <div class="header">
    <h1>üéÆ Aprende Jugando - Castellano 5¬∫</h1>
    <p>¬°Divi√©rtete mientras aprendes determinantes, ortograf√≠a y c√≥mics!</p>
   </div>
   <div class="menu-nav"><button class="menu-btn active" onclick="showExercise('determinants')">üéØ Clasifica los Determinantes</button> <button class="menu-btn" onclick="showExercise('vb')">üìù Completa V o B</button> <button class="menu-btn" onclick="showExercise('comic')">üí≠ Elementos del C√≥mic</button>
   </div>
   <div class="exercise-container"><!-- Juego 1: Determinantes -->
    <div class="game-card" id="determinants-exercise">
     <h2 class="game-title">üéØ Clasifica los Determinantes</h2>
     <div class="score" id="det-score">
      Puntuaci√≥n: 0/15
     </div>
     <div class="progress-bar">
      <div class="progress-fill" id="det-progress"></div>
     </div>
     <div class="exercise-area">
      <p><strong>Arrastra cada palabra a su grupo correspondiente:</strong></p>
      <div id="determinants-words"><!-- Las palabras se generar√°n din√°micamente -->
      </div>
      <div class="drop-zone" data-type="articulos">
       <h4>üì∞ Art√≠culos</h4>
       <div class="dropped-words" id="articulos"></div>
      </div>
      <div class="drop-zone" data-type="demostrativos">
       <h4>üëâ Demostrativos</h4>
       <div class="dropped-words" id="demostrativos"></div>
      </div>
      <div class="drop-zone" data-type="posesivos">
       <h4>üè† Posesivos</h4>
       <div class="dropped-words" id="posesivos"></div>
      </div>
      <div class="drop-zone" data-type="numerales">
       <h4>üî¢ Numerales</h4>
       <div class="dropped-words" id="numerales"></div>
      </div>
      <div class="drop-zone" data-type="indefinidos">
       <h4>‚ùì Indefinidos</h4>
       <div class="dropped-words" id="indefinidos"></div>
      </div>
     </div><button class="btn" onclick="checkDeterminants()">‚úÖ Comprobar Respuestas</button> <button class="btn" onclick="resetDeterminants()">üîÑ Nuevo Ejercicio</button>
    </div><!-- Juego 2: V y B -->
    <div class="game-card hidden" id="vb-exercise-container">
     <h2 class="game-title">üìù Completa con V o B</h2>
     <div class="score" id="vb-score">
      Puntuaci√≥n: 0/12
     </div>
     <div class="progress-bar">
      <div class="progress-fill" id="vb-progress"></div>
     </div>
     <div class="exercise-area" id="vb-exercise"><!-- Los ejercicios se generar√°n din√°micamente -->
     </div><button class="btn" onclick="checkVB()">‚úÖ Comprobar Respuestas</button> <button class="btn" onclick="resetVB()">üîÑ Nuevo Ejercicio</button>
     <div class="explanation" id="vb-explanation"><!-- Las explicaciones aparecer√°n aqu√≠ -->
     </div>
    </div><!-- Juego 3: C√≥mics -->
    <div class="game-card hidden" id="comic-exercise-container">
     <h2 class="game-title">üí≠ Elementos del C√≥mic</h2>
     <div class="score" id="comic-score">
      Puntuaci√≥n: 0/12
     </div>
     <div class="progress-bar">
      <div class="progress-fill" id="comic-progress"></div>
     </div><!-- Secci√≥n Visual del C√≥mic -->
     <div class="exercise-area">
      <h3 style="text-align: center; color: #4a5568; margin-bottom: 20px;">üé® Identifica los elementos en el c√≥mic</h3>
      <p style="text-align: center; margin-bottom: 20px;"><strong>Observa los n√∫meros en el c√≥mic y asocia cada uno con su elemento correspondiente:</strong></p>
      <div class="comic-strip"><!-- Vi√±eta 1 -->
       <div class="comic-panel" id="panel1">
        <div class="panel-content">
         <div class="character character1">
          üòä
         </div>
         <div class="speech-bubble" data-type="globo-dialogo">
          ¬°Hola! ¬øC√≥mo est√°s? 
          <div class="number-marker">
           2
          </div>
         </div>
         <div class="narrative-box" data-type="cartucho">
          Era una ma√±ana soleada... 
          <div class="number-marker">
           3
          </div>
         </div>
        </div>
        <div class="panel-border" data-type="vi√±eta">
         <div class="number-marker border-number">
          1
         </div>
        </div>
       </div><!-- Vi√±eta 2 -->
       <div class="comic-panel" id="panel2">
        <div class="panel-content">
         <div class="character character2">
          üòÆ
         </div>
         <div class="thought-bubble" data-type="globo-pensamiento">
          ¬øQu√© ser√° ese ruido? 
          <div class="number-marker">
           4
          </div>
         </div>
         <div class="onomatopeya" data-type="onomatopeya">
          ¬°CRASH! 
          <div class="number-marker">
           5
          </div>
         </div>
         <div class="motion-lines" data-type="lineas-cineticas">
          <div class="number-marker">
           6
          </div>
         </div>
        </div>
        <div class="panel-border" data-type="vi√±eta">
         <div class="number-marker border-number">
          1
         </div>
        </div>
       </div>
      </div>
      <div class="comic-elements-selector">
       <h4>Asocia cada n√∫mero con su elemento:</h4>
       <div class="associations-grid">
        <div class="association-item"><span class="number-display">1</span> <select class="element-select" data-number="1" onchange="selectAssociation(1, this.value)"> <option value="">Selecciona...</option> <option value="vi√±eta">üì¶ Vi√±eta</option> <option value="globo-dialogo">üí¨ Globo de di√°logo</option> <option value="globo-pensamiento">üí≠ Globo de pensamiento</option> <option value="cartucho">üìù Cartucho</option> <option value="onomatopeya">üí• Onomatopeya</option> <option value="lineas-cineticas">‚ö° L√≠neas cin√©ticas</option> </select> <span class="result-indicator" id="result-1"></span>
        </div>
        <div class="association-item"><span class="number-display">2</span> <select class="element-select" data-number="2" onchange="selectAssociation(2, this.value)"> <option value="">Selecciona...</option> <option value="vi√±eta">üì¶ Vi√±eta</option> <option value="globo-dialogo">üí¨ Globo de di√°logo</option> <option value="globo-pensamiento">üí≠ Globo de pensamiento</option> <option value="cartucho">üìù Cartucho</option> <option value="onomatopeya">üí• Onomatopeya</option> <option value="lineas-cineticas">‚ö° L√≠neas cin√©ticas</option> </select> <span class="result-indicator" id="result-2"></span>
        </div>
        <div class="association-item"><span class="number-display">3</span> <select class="element-select" data-number="3" onchange="selectAssociation(3, this.value)"> <option value="">Selecciona...</option> <option value="vi√±eta">üì¶ Vi√±eta</option> <option value="globo-dialogo">üí¨ Globo de di√°logo</option> <option value="globo-pensamiento">üí≠ Globo de pensamiento</option> <option value="cartucho">üìù Cartucho</option> <option value="onomatopeya">üí• Onomatopeya</option> <option value="lineas-cineticas">‚ö° L√≠neas cin√©ticas</option> </select> <span class="result-indicator" id="result-3"></span>
        </div>
        <div class="association-item"><span class="number-display">4</span> <select class="element-select" data-number="4" onchange="selectAssociation(4, this.value)"> <option value="">Selecciona...</option> <option value="vi√±eta">üì¶ Vi√±eta</option> <option value="globo-dialogo">üí¨ Globo de di√°logo</option> <option value="globo-pensamiento">üí≠ Globo de pensamiento</option> <option value="cartucho">üìù Cartucho</option> <option value="onomatopeya">üí• Onomatopeya</option> <option value="lineas-cineticas">‚ö° L√≠neas cin√©ticas</option> </select> <span class="result-indicator" id="result-4"></span>
        </div>
        <div class="association-item"><span class="number-display">5</span> <select class="element-select" data-number="5" onchange="selectAssociation(5, this.value)"> <option value="">Selecciona...</option> <option value="vi√±eta">üì¶ Vi√±eta</option> <option value="globo-dialogo">üí¨ Globo de di√°logo</option> <option value="globo-pensamiento">üí≠ Globo de pensamiento</option> <option value="cartucho">üìù Cartucho</option> <option value="onomatopeya">üí• Onomatopeya</option> <option value="lineas-cineticas">‚ö° L√≠neas cin√©ticas</option> </select> <span class="result-indicator" id="result-5"></span>
        </div>
        <div class="association-item"><span class="number-display">6</span> <select class="element-select" data-number="6" onchange="selectAssociation(6, this.value)"> <option value="">Selecciona...</option> <option value="vi√±eta">üì¶ Vi√±eta</option> <option value="globo-dialogo">üí¨ Globo de di√°logo</option> <option value="globo-pensamiento">üí≠ Globo de pensamiento</option> <option value="cartucho">üìù Cartucho</option> <option value="onomatopeya">üí• Onomatopeya</option> <option value="lineas-cineticas">‚ö° L√≠neas cin√©ticas</option> </select> <span class="result-indicator" id="result-6"></span>
        </div>
       </div>
       <div id="visual-feedback" class="visual-feedback"></div>
      </div>
     </div><!-- Secci√≥n de Preguntas Te√≥ricas -->
     <div class="exercise-area" id="comic-exercise">
      <h3 style="text-align: center; color: #4a5568; margin-bottom: 20px;">üìö Preguntas sobre el c√≥mic</h3><!-- Las preguntas se generar√°n din√°micamente -->
     </div><button class="btn" onclick="checkComic()">‚úÖ Comprobar Respuestas</button> <button class="btn" onclick="resetComic()">üîÑ Nuevo Ejercicio</button>
    </div>
   </div>
  </div>
  <script>
        // Datos para los ejercicios
        const determinantsData = {
            articulos: ['el', 'la', 'los', 'las', 'un', 'una', 'unos', 'unas'],
            demostrativos: ['este', 'esta', 'estos', 'estas', 'ese', 'esa', 'esos', 'esas', 'aquel', 'aquella'],
            posesivos: ['mi', 'tu', 'su', 'mis', 'tus', 'sus', 'nuestro', 'nuestra', 'vuestro', 'vuestra'],
            numerales: ['primer', 'segundo', 'tercero', 'cuarto', 'quinto', 'sexto', '√∫ltimo', 'doble', 'triple', 'ambos'],
            indefinidos: ['alg√∫n', 'ning√∫n', 'varios', 'muchos', 'pocos', 'bastantes', 'todos', 'cualquier', 'cierto', 'otro']
        };

        const vbData = [
            // PALABRAS CON V - M√°s frecuentes
            { word: '_aca', correct: 'v', explanation: 'Se escribe con V porque las palabras que empiezan por "va-" se escriben con V.' },
            { word: '_erde', correct: 'v', explanation: 'Se escribe con V porque las palabras que empiezan por "ve-" se escriben con V.' },
            { word: '_iejo', correct: 'v', explanation: 'Se escribe con V porque las palabras que empiezan por "vie-" se escriben con V.' },
            { word: '_iento', correct: 'v', explanation: 'Se escribe con V porque las palabras que empiezan por "vie-" se escriben con V.' },
            { word: '_olar', correct: 'v', explanation: 'Se escribe con V porque las palabras que empiezan por "vo-" se escriben con V.' },
            { word: '_olver', correct: 'v', explanation: 'Se escribe con V porque las palabras que empiezan por "vo-" se escriben con V.' },
            { word: '_enir', correct: 'v', explanation: 'Se escribe con V porque las palabras que empiezan por "ve-" se escriben con V.' },
            { word: '_encer', correct: 'v', explanation: 'Se escribe con V porque las palabras que empiezan por "ve-" se escriben con V.' },
            { word: '_iaje', correct: 'v', explanation: 'Se escribe con V porque las palabras que empiezan por "via-" se escriben con V.' },
            { word: '_alor', correct: 'v', explanation: 'Se escribe con V porque las palabras que empiezan por "va-" se escriben con V.' },
            { word: '_arios', correct: 'v', explanation: 'Se escribe con V porque las palabras que empiezan por "va-" se escriben con V.' },
            { word: '_einte', correct: 'v', explanation: 'Se escribe con V porque las palabras que empiezan por "ve-" se escriben con V.' },
            { word: '_ida', correct: 'v', explanation: 'Se escribe con V porque las palabras que empiezan por "vi-" se escriben con V.' },
            { word: '_isita', correct: 'v', explanation: 'Se escribe con V porque las palabras que empiezan por "vi-" se escriben con V.' },
            { word: '_oz', correct: 'v', explanation: 'Se escribe con V porque las palabras que empiezan por "vo-" se escriben con V.' },
            { word: '_uelo', correct: 'v', explanation: 'Se escribe con V porque las palabras que empiezan por "vu-" se escriben con V.' },
            { word: '_entana', correct: 'v', explanation: 'Se escribe con V porque las palabras que empiezan por "ve-" se escriben con V.' },
            { word: '_ino', correct: 'v', explanation: 'Se escribe con V porque las palabras que empiezan por "vi-" se escriben con V.' },
            { word: '_aso', correct: 'v', explanation: 'Se escribe con V porque las palabras que empiezan por "va-" se escriben con V.' },
            { word: '_estido', correct: 'v', explanation: 'Se escribe con V porque las palabras que empiezan por "ve-" se escriben con V.' },
            
            // Palabras con NV
            { word: 'nue_o', correct: 'v', explanation: 'Se escribe con V porque las palabras que contienen "nv" se escriben con V.' },
            { word: 'nue_a', correct: 'v', explanation: 'Se escribe con V porque las palabras que contienen "nv" se escriben con V.' },
            { word: 'in_ierno', correct: 'v', explanation: 'Se escribe con V porque las palabras que contienen "nv" se escriben con V.' },
            { word: 'en_iar', correct: 'v', explanation: 'Se escribe con V porque las palabras que contienen "nv" se escriben con V.' },
            { word: 'con_encer', correct: 'v', explanation: 'Se escribe con V porque las palabras que contienen "nv" se escriben con V.' },
            { word: 'in_itar', correct: 'v', explanation: 'Se escribe con V porque las palabras que contienen "nv" se escriben con V.' },
            { word: 'con_ertir', correct: 'v', explanation: 'Se escribe con V porque las palabras que contienen "nv" se escriben con V.' },
            { word: 'en_olver', correct: 'v', explanation: 'Se escribe con V porque las palabras que contienen "nv" se escriben con V.' },
            
            // Adjetivos terminados en -avo, -evo, -ivo
            { word: 'octa_o', correct: 'v', explanation: 'Se escribe con V porque los adjetivos terminados en "-avo" se escriben con V.' },
            { word: 'nue_o', correct: 'v', explanation: 'Se escribe con V porque los adjetivos terminados en "-evo" se escriben con V.' },
            { word: 'acti_o', correct: 'v', explanation: 'Se escribe con V porque los adjetivos terminados en "-ivo" se escriben con V.' },
            { word: 'pri_ado', correct: 'v', explanation: 'Se escribe con V porque los adjetivos terminados en "-ivo" se escriben con V.' },
            { word: 'positi_o', correct: 'v', explanation: 'Se escribe con V porque los adjetivos terminados en "-ivo" se escriben con V.' },
            { word: 'negati_o', correct: 'v', explanation: 'Se escribe con V porque los adjetivos terminados en "-ivo" se escriben con V.' },
            { word: 'deporti_o', correct: 'v', explanation: 'Se escribe con V porque los adjetivos terminados en "-ivo" se escriben con V.' },
            { word: 'definiti_o', correct: 'v', explanation: 'Se escribe con V porque los adjetivos terminados en "-ivo" se escriben con V.' },
            { word: 'relati_o', correct: 'v', explanation: 'Se escribe con V porque los adjetivos terminados en "-ivo" se escriben con V.' },
            { word: 'objeti_o', correct: 'v', explanation: 'Se escribe con V porque los adjetivos terminados en "-ivo" se escriben con V.' },
            { word: 'educati_o', correct: 'v', explanation: 'Se escribe con V porque los adjetivos terminados en "-ivo" se escriben con V.' },
            { word: 'creati_o', correct: 'v', explanation: 'Se escribe con V porque los adjetivos terminados en "-ivo" se escriben con V.' },
            
            // Verbos terminados en -vir (EXCEPCIONES: hervir, servir, vivir)
            { word: 'her_ir', correct: 'v', explanation: 'Se escribe con V. EXCEPCI√ìN: hervir es una de las tres excepciones de verbos en -vir.' },
            { word: 'ser_ir', correct: 'v', explanation: 'Se escribe con V. EXCEPCI√ìN: servir es una de las tres excepciones de verbos en -vir.' },
            { word: '_ivir', correct: 'v', explanation: 'Se escribe con V. EXCEPCI√ìN: vivir es una de las tres excepciones de verbos en -vir.' },
            
            // Verbos terminados en -var
            { word: 'conser_ar', correct: 'v', explanation: 'Se escribe con V porque los verbos terminados en "-var" se escriben con V.' },
            { word: 'reser_ar', correct: 'v', explanation: 'Se escribe con V porque los verbos terminados en "-var" se escriben con V.' },
            { word: 'obser_ar', correct: 'v', explanation: 'Se escribe con V porque los verbos terminados en "-var" se escriben con V.' },
            { word: 'culti_ar', correct: 'v', explanation: 'Se escribe con V porque los verbos terminados en "-var" se escriben con V.' },
            { word: 'acti_ar', correct: 'v', explanation: 'Se escribe con V porque los verbos terminados en "-var" se escriben con V.' },
            { word: 'moti_ar', correct: 'v', explanation: 'Se escribe con V porque los verbos terminados en "-var" se escriben con V.' },
            
            // PALABRAS CON B - M√°s frecuentes
            { word: '_ien', correct: 'b', explanation: 'Se escribe con B porque las palabras que empiezan por "bie-" se escriben con B.' },
            { word: '_ueno', correct: 'b', explanation: 'Se escribe con B porque las palabras que empiezan por "bue-" se escriben con B.' },
            { word: '_urro', correct: 'b', explanation: 'Se escribe con B porque las palabras que empiezan por "bu-", "bur-", "bus-" se escriben con B.' },
            { word: '_uscar', correct: 'b', explanation: 'Se escribe con B porque las palabras que empiezan por "bus-" se escriben con B.' },
            { word: '_lanco', correct: 'b', explanation: 'Se escribe con B porque las palabras que empiezan por "bl-" se escriben con B.' },
            { word: '_razo', correct: 'b', explanation: 'Se escribe con B porque las palabras que empiezan por "br-" se escriben con B.' },
            { word: '_oca', correct: 'b', explanation: 'Se escribe con B porque las palabras que empiezan por "bo-" se escriben con B.' },
            { word: '_ola', correct: 'b', explanation: 'Se escribe con B porque las palabras que empiezan por "bo-" se escriben con B.' },
            { word: '_ajo', correct: 'b', explanation: 'Se escribe con B porque las palabras que empiezan por "ba-" se escriben con B.' },
            { word: '_anco', correct: 'b', explanation: 'Se escribe con B porque las palabras que empiezan por "ba-" se escriben con B.' },
            { word: '_ase', correct: 'b', explanation: 'Se escribe con B porque las palabras que empiezan por "ba-" se escriben con B.' },
            { word: '_eber', correct: 'b', explanation: 'Se escribe con B porque las palabras que empiezan por "be-" se escriben con B.' },
            { word: '_eso', correct: 'b', explanation: 'Se escribe con B porque las palabras que empiezan por "be-" se escriben con B.' },
            { word: '_icicleta', correct: 'b', explanation: 'Se escribe con B porque las palabras que empiezan por "bi-" se escriben con B.' },
            { word: '_iblioteca', correct: 'b', explanation: 'Se escribe con B porque las palabras que empiezan por "bi-" se escriben con B.' },
            { word: '_onito', correct: 'b', explanation: 'Se escribe con B porque las palabras que empiezan por "bo-" se escriben con B.' },
            { word: '_ot√≥n', correct: 'b', explanation: 'Se escribe con B porque las palabras que empiezan por "bo-" se escriben con B.' },
            { word: '_urbujas', correct: 'b', explanation: 'Se escribe con B porque las palabras que empiezan por "bur-" se escriben con B.' },
            
            // Despu√©s de M siempre B
            { word: 'ca_allo', correct: 'b', explanation: 'Se escribe con B porque despu√©s de M siempre va B.' },
            { word: 'tam_i√©n', correct: 'b', explanation: 'Se escribe con B porque despu√©s de M siempre va B.' },
            { word: 'cam_io', correct: 'b', explanation: 'Se escribe con B porque despu√©s de M siempre va B.' },
            { word: 'miem_ro', correct: 'b', explanation: 'Se escribe con B porque despu√©s de M siempre va B.' },
            { word: 'som_ra', correct: 'b', explanation: 'Se escribe con B porque despu√©s de M siempre va B.' },
            { word: 'nom_re', correct: 'b', explanation: 'Se escribe con B porque despu√©s de M siempre va B.' },
            { word: 'ham_re', correct: 'b', explanation: 'Se escribe con B porque despu√©s de M siempre va B.' },
            { word: 'rum_o', correct: 'b', explanation: 'Se escribe con B porque despu√©s de M siempre va B.' },
            { word: 'lom_riz', correct: 'b', explanation: 'Se escribe con B porque despu√©s de M siempre va B.' },
            { word: 'em_arcar', correct: 'b', explanation: 'Se escribe con B porque despu√©s de M siempre va B.' },
            { word: 'am_iente', correct: 'b', explanation: 'Se escribe con B porque despu√©s de M siempre va B.' },
            { word: 'sim_olo', correct: 'b', explanation: 'Se escribe con B porque despu√©s de M siempre va B.' },
            
            // Terminaciones -ble
            { word: 'posi_le', correct: 'b', explanation: 'Se escribe con B porque las palabras terminadas en "-ble" se escriben con B.' },
            { word: 'terri_le', correct: 'b', explanation: 'Se escribe con B porque las palabras terminadas en "-ble" se escriben con B.' },
            { word: 'ama_le', correct: 'b', explanation: 'Se escribe con B porque las palabras terminadas en "-ble" se escriben con B.' },
            { word: 'visi_le', correct: 'b', explanation: 'Se escribe con B porque las palabras terminadas en "-ble" se escriben con B.' },
            { word: 'incre√≠_le', correct: 'b', explanation: 'Se escribe con B porque las palabras terminadas en "-ble" se escriben con B.' },
            { word: 'responsa_le', correct: 'b', explanation: 'Se escribe con B porque las palabras terminadas en "-ble" se escriben con B.' },
            { word: 'agrada_le', correct: 'b', explanation: 'Se escribe con B porque las palabras terminadas en "-ble" se escriben con B.' },
            { word: 'acepta_le', correct: 'b', explanation: 'Se escribe con B porque las palabras terminadas en "-ble" se escriben con B.' },
            { word: 'dura_le', correct: 'b', explanation: 'Se escribe con B porque las palabras terminadas en "-ble" se escriben con B.' },
            { word: 'porta_le', correct: 'b', explanation: 'Se escribe con B porque las palabras terminadas en "-ble" se escriben con B.' },
            { word: 'conta_le', correct: 'b', explanation: 'Se escribe con B porque las palabras terminadas en "-ble" se escriben con B.' },
            { word: 'nota_le', correct: 'b', explanation: 'Se escribe con B porque las palabras terminadas en "-ble" se escriben con B.' },
            
            // Verbos terminados en -bir (EXCEPCIONES: hervir, servir, vivir)
            { word: 'reci_ir', correct: 'b', explanation: 'Se escribe con B porque los verbos terminados en "-bir" se escriben con B (excepto hervir, servir y vivir).' },
            { word: 'escri_ir', correct: 'b', explanation: 'Se escribe con B porque los verbos terminados en "-bir" se escriben con B (excepto hervir, servir y vivir).' },
            { word: 'su_ir', correct: 'b', explanation: 'Se escribe con B porque los verbos terminados en "-bir" se escriben con B (excepto hervir, servir y vivir).' },
            { word: 'prohi_ir', correct: 'b', explanation: 'Se escribe con B porque los verbos terminados en "-bir" se escriben con B (excepto hervir, servir y vivir).' },
            { word: 'perci_ir', correct: 'b', explanation: 'Se escribe con B porque los verbos terminados en "-bir" se escriben con B (excepto hervir, servir y vivir).' },
            { word: 'descri_ir', correct: 'b', explanation: 'Se escribe con B porque los verbos terminados en "-bir" se escriben con B (excepto hervir, servir y vivir).' },
            { word: 'exhi_ir', correct: 'b', explanation: 'Se escribe con B porque los verbos terminados en "-bir" se escriben con B (excepto hervir, servir y vivir).' },
            { word: 'inhi_ir', correct: 'b', explanation: 'Se escribe con B porque los verbos terminados en "-bir" se escriben con B (excepto hervir, servir y vivir).' },
            
            // Verbos terminados en -blar
            { word: 'ha_lar', correct: 'b', explanation: 'Se escribe con B porque los verbos terminados en "-blar" se escriben con B.' },
            { word: 'do_lar', correct: 'b', explanation: 'Se escribe con B porque los verbos terminados en "-blar" se escriben con B.' },
            { word: 'tem_lar', correct: 'b', explanation: 'Se escribe con B porque los verbos terminados en "-blar" se escriben con B.' },
            { word: 'po_lar', correct: 'b', explanation: 'Se escribe con B porque los verbos terminados en "-blar" se escriben con B.' },
            
            // Verbos terminados en -bar
            { word: 'pro_ar', correct: 'b', explanation: 'Se escribe con B porque los verbos terminados en "-bar" se escriben con B.' },
            { word: 'ro_ar', correct: 'b', explanation: 'Se escribe con B porque los verbos terminados en "-bar" se escriben con B.' },
            { word: 'glo_ar', correct: 'b', explanation: 'Se escribe con B porque los verbos terminados en "-bar" se escriben con B.' },
            
            // Pret√©rito imperfecto de indicativo (-aba, -abas, -√°bamos, etc.)
            { word: 'esta_a', correct: 'b', explanation: 'Se escribe con B porque las formas del pret√©rito imperfecto de indicativo terminan en "-aba".' },
            { word: 'reci_√≠a', correct: 'b', explanation: 'Se escribe con B porque las formas del pret√©rito imperfecto de indicativo se escriben con B.' },
            { word: 'juga_a', correct: 'b', explanation: 'Se escribe con B porque las formas del pret√©rito imperfecto de indicativo terminan en "-aba".' },
            { word: 'camina_a', correct: 'b', explanation: 'Se escribe con B porque las formas del pret√©rito imperfecto de indicativo terminan en "-aba".' },
            { word: 'estudia_a', correct: 'b', explanation: 'Se escribe con B porque las formas del pret√©rito imperfecto de indicativo terminan en "-aba".' },
            { word: 'tra_aja_a', correct: 'b', explanation: 'Se escribe con B porque las formas del pret√©rito imperfecto de indicativo terminan en "-aba".' },
            
            // Verbo haber y sus formas
            { word: 'ha_√≠a', correct: 'b', explanation: 'Se escribe con B porque las formas del verbo "haber" se escriben con B.' },
            { word: 'ha_√≠a_amos', correct: 'b', explanation: 'Se escribe con B porque las formas del verbo "haber" se escriben con B.' },
            { word: 'ha_r√°', correct: 'b', explanation: 'Se escribe con B porque las formas del verbo "haber" se escriben con B.' },
            
            // Palabras con HAB-
            { word: 'ha_itaci√≥n', correct: 'b', explanation: 'Se escribe con B porque las palabras que contienen "hab-" se escriben con B.' },
            { word: 'ha_itar', correct: 'b', explanation: 'Se escribe con B porque las palabras que contienen "hab-" se escriben con B.' },
            { word: 'ha_ilidad', correct: 'b', explanation: 'Se escribe con B porque las palabras que contienen "hab-" se escriben con B.' },
            { word: 'ha_itual', correct: 'b', explanation: 'Se escribe con B porque las palabras que contienen "hab-" se escriben con B.' },
            
            // EXCEPCIONES IMPORTANTES
            // Excepciones de palabras con V que no siguen las reglas generales
            { word: '_√≠bora', correct: 'v', explanation: 'EXCEPCI√ìN: v√≠bora se escribe con V aunque no sigue las reglas generales.' },
            { word: '_ag√≥n', correct: 'v', explanation: 'EXCEPCI√ìN: vag√≥n se escribe con V aunque no sigue las reglas generales.' },
            { word: '_aliente', correct: 'v', explanation: 'EXCEPCI√ìN: valiente se escribe con V aunque no sigue las reglas generales.' },
            { word: '_apor', correct: 'v', explanation: 'EXCEPCI√ìN: vapor se escribe con V aunque no sigue las reglas generales.' },
            { word: '_eloz', correct: 'v', explanation: 'EXCEPCI√ìN: veloz se escribe con V aunque no sigue las reglas generales.' },
            { word: '_√≠ctima', correct: 'v', explanation: 'EXCEPCI√ìN: v√≠ctima se escribe con V aunque no sigue las reglas generales.' },
            
            // Excepciones de palabras con B que no siguen las reglas generales  
            { word: '_aca', correct: 'b', explanation: 'EXCEPCI√ìN: baca (portaequipajes) se escribe con B, no confundir con vaca (animal).' },
            { word: '_ello', correct: 'b', explanation: 'EXCEPCI√ìN: bello (hermoso) se escribe con B, no confundir con vello (pelo).' },
            { word: '_aron', correct: 'b', explanation: 'EXCEPCI√ìN: bar√≥n (t√≠tulo nobiliario) se escribe con B, no confundir con var√≥n (hombre).' },
            { word: '_asto', correct: 'b', explanation: 'EXCEPCI√ìN: basto (tosco) se escribe con B, no confundir con vasto (extenso).' },
            { word: '_aya', correct: 'b', explanation: 'EXCEPCI√ìN: baya (fruto) se escribe con B, no confundir con vaya (del verbo ir).' },
            { word: '_otar', correct: 'b', explanation: 'EXCEPCI√ìN: botar (saltar) se escribe con B, no confundir con votar (elegir).' },
            { word: '_idente', correct: 'b', explanation: 'EXCEPCI√ìN: bidente se escribe con B aunque no sigue las reglas generales.' },
            
            // M√°s palabras frecuentes con V
            { word: '_encer', correct: 'v', explanation: 'Se escribe con V porque las palabras que empiezan por "ve-" se escriben con V.' },
            { word: '_ender', correct: 'v', explanation: 'Se escribe con V porque las palabras que empiezan por "ve-" se escriben con V.' },
            { word: '_estir', correct: 'v', explanation: 'Se escribe con V porque las palabras que empiezan por "ve-" se escriben con V.' },
            { word: '_iajar', correct: 'v', explanation: 'Se escribe con V porque las palabras que empiezan por "via-" se escriben con V.' },
            { word: '_iernes', correct: 'v', explanation: 'Se escribe con V porque las palabras que empiezan por "vie-" se escriben con V.' },
            { word: '_iol√≠n', correct: 'v', explanation: 'Se escribe con V porque las palabras que empiezan por "vio-" se escriben con V.' },
            { word: '_irtud', correct: 'v', explanation: 'Se escribe con V porque las palabras que empiezan por "vir-" se escriben con V.' },
            { word: '_isi√≥n', correct: 'v', explanation: 'Se escribe con V porque las palabras que empiezan por "vis-" se escriben con V.' },
            { word: '_ocal', correct: 'v', explanation: 'Se escribe con V porque las palabras que empiezan por "vo-" se escriben con V.' },
            { word: '_olumen', correct: 'v', explanation: 'Se escribe con V porque las palabras que empiezan por "vo-" se escriben con V.' },
            
            // M√°s palabras frecuentes con B
            { word: '_ailar', correct: 'b', explanation: 'Se escribe con B porque las palabras que empiezan por "bai-" se escriben con B.' },
            { word: '_arrer', correct: 'b', explanation: 'Se escribe con B porque las palabras que empiezan por "bar-" se escriben con B.' },
            { word: '_atalla', correct: 'b', explanation: 'Se escribe con B porque las palabras que empiezan por "bat-" se escriben con B.' },
            { word: '_endici√≥n', correct: 'b', explanation: 'Se escribe con B porque las palabras que empiezan por "ben-" se escriben con B.' },
            { word: '_ienestar', correct: 'b', explanation: 'Se escribe con B porque las palabras que empiezan por "bie-" se escriben con B.' },
            { word: '_rillar', correct: 'b', explanation: 'Se escribe con B porque las palabras que empiezan por "bri-" se escriben con B.' },
            { word: '_ronze', correct: 'b', explanation: 'Se escribe con B porque las palabras que empiezan por "bro-" se escriben con B.' },
            { word: '_ucear', correct: 'b', explanation: 'Se escribe con B porque las palabras que empiezan por "buc-" se escriben con B.' },
            { word: '_ufanda', correct: 'b', explanation: 'Se escribe con B porque las palabras que empiezan por "buf-" se escriben con B.' },
            { word: '_ullicio', correct: 'b', explanation: 'Se escribe con B porque las palabras que empiezan por "bul-" se escriben con B.' }
        ];

        const comicData = [
            {
                question: '¬øC√≥mo se llama cada recuadro que contiene una escena en el c√≥mic?',
                options: ['Vi√±eta', 'Bocadillo', 'Cartucho', 'Onomatopeya'],
                correct: 0
            },
            {
                question: '¬øQu√© elemento textual se usa para mostrar lo que piensan los personajes?',
                options: ['Globo de di√°logo', 'Globo de pensamiento', 'Globo de grito', 'Cartucho'],
                correct: 1
            },
            {
                question: '¬øC√≥mo se llaman las palabras que imitan sonidos como "¬°Boom!" o "¬°Crash!"?',
                options: ['S√≠mbolos gr√°ficos', 'L√≠neas cin√©ticas', 'Onomatopeyas', 'Ilustraciones'],
                correct: 2
            },
            {
                question: '¬øQu√© indican las l√≠neas cin√©ticas en un c√≥mic?',
                options: ['Emociones', 'Movimiento o velocidad', 'Sonidos', 'Di√°logos'],
                correct: 1
            },
            {
                question: '¬øC√≥mo se llaman los recuadros que aportan informaci√≥n del narrador?',
                options: ['Bocadillos', 'Vi√±etas', 'Cartuchos', 'S√≠mbolos'],
                correct: 2
            },
            {
                question: '¬øQu√© tipo de globo tiene bordes irregulares y es m√°s grande?',
                options: ['Globo de pensamiento', 'Globo de di√°logo', 'Globo de grito', 'Globo normal'],
                correct: 2
            }
        ];

        // Variables de estado
        let detScore = 0;
        let vbScore = 0;
        let comicScore = 0;
        let visualComicScore = 0;
        let currentVBExercise = [];
        let currentComicQuestions = [];
        let visualAssociations = {};

        // Funciones para Determinantes
        function initDeterminants() {
            const wordsContainer = document.getElementById('determinants-words');
            wordsContainer.innerHTML = '';
            
            // Seleccionar palabras aleatorias de cada categor√≠a
            const selectedWords = [];
            Object.keys(determinantsData).forEach(type => {
                const words = determinantsData[type];
                const randomWords = words.sort(() => Math.random() - 0.5).slice(0, 3);
                randomWords.forEach(word => {
                    selectedWords.push({ word, type });
                });
            });
            
            // Mezclar todas las palabras
            selectedWords.sort(() => Math.random() - 0.5);
            
            selectedWords.forEach(item => {
                const wordElement = document.createElement('div');
                wordElement.className = 'word-item';
                wordElement.textContent = item.word;
                wordElement.dataset.type = item.type;
                wordElement.draggable = true;
                wordElement.onclick = () => selectWord(wordElement);
                wordsContainer.appendChild(wordElement);
            });
            
            // Limpiar zonas de drop
            document.querySelectorAll('.dropped-words').forEach(zone => {
                zone.innerHTML = '';
            });
        }

        function selectWord(element) {
            // Deseleccionar otras palabras
            document.querySelectorAll('.word-item').forEach(word => {
                word.classList.remove('selected');
            });
            element.classList.add('selected');
            
            // Activar zonas de drop
            document.querySelectorAll('.drop-zone').forEach(zone => {
                zone.classList.add('active');
                zone.onclick = () => dropWord(zone, element);
            });
        }

        function dropWord(zone, wordElement) {
            if (wordElement.classList.contains('selected')) {
                const droppedArea = zone.querySelector('.dropped-words');
                droppedArea.appendChild(wordElement);
                wordElement.classList.remove('selected');
                wordElement.onclick = () => returnWord(wordElement);
                
                // Desactivar zonas de drop
                document.querySelectorAll('.drop-zone').forEach(z => {
                    z.classList.remove('active');
                    z.onclick = null;
                });
            }
        }

        function returnWord(wordElement) {
            document.getElementById('determinants-words').appendChild(wordElement);
            wordElement.onclick = () => selectWord(wordElement);
        }

        function checkDeterminants() {
            let correct = 0;
            const total = document.querySelectorAll('.word-item').length;
            
            document.querySelectorAll('.drop-zone').forEach(zone => {
                const expectedType = zone.dataset.type;
                const words = zone.querySelectorAll('.word-item');
                
                words.forEach(word => {
                    if (word.dataset.type === expectedType) {
                        correct++;
                        word.style.background = '#48bb78';
                    } else {
                        word.style.background = '#f56565';
                    }
                });
            });
            
            detScore = correct;
            updateScore('det-score', detScore, total);
            updateProgress('det-progress', detScore, total);
        }

        function resetDeterminants() {
            detScore = 0;
            updateScore('det-score', 0, 15);
            updateProgress('det-progress', 0, 15);
            initDeterminants();
        }

        // Funciones para V y B
        function initVB() {
            currentVBExercise = vbData.sort(() => Math.random() - 0.5).slice(0, 12);
            const container = document.getElementById('vb-exercise');
            container.innerHTML = '';
            
            currentVBExercise.forEach((item, index) => {
                const div = document.createElement('div');
                div.className = 'input-group';
                div.innerHTML = `
                    <label>Completa la palabra: <strong>${item.word}</strong></label>
                    <div style="display: flex; gap: 10px; align-items: center;">
                        <button class="btn" onclick="selectVB(${index}, 'v')" id="v-${index}">V</button>
                        <button class="btn" onclick="selectVB(${index}, 'b')" id="b-${index}">B</button>
                        <span id="result-${index}" style="margin-left: 10px; font-weight: bold;"></span>
                    </div>
                `;
                container.appendChild(div);
            });
        }

        function selectVB(index, letter) {
            // Resetear botones
            document.getElementById(`v-${index}`).style.background = '';
            document.getElementById(`b-${index}`).style.background = '';
            
            // Marcar selecci√≥n
            document.getElementById(`${letter}-${index}`).style.background = '#48bb78';
            
            // Guardar selecci√≥n
            currentVBExercise[index].selected = letter;
        }

        function checkVB() {
            let correct = 0;
            const explanations = [];
            
            currentVBExercise.forEach((item, index) => {
                const resultSpan = document.getElementById(`result-${index}`);
                
                if (item.selected === item.correct) {
                    correct++;
                    resultSpan.textContent = '‚úÖ';
                    resultSpan.style.color = '#48bb78';
                } else {
                    resultSpan.textContent = '‚ùå';
                    resultSpan.style.color = '#f56565';
                    explanations.push(`<strong>${item.word.replace('_', item.correct.toUpperCase())}</strong>: ${item.explanation}`);
                }
            });
            
            vbScore = correct;
            updateScore('vb-score', vbScore, currentVBExercise.length);
            updateProgress('vb-progress', vbScore, currentVBExercise.length);
            
            // Mostrar explicaciones si hay errores
            if (explanations.length > 0) {
                const explanationDiv = document.getElementById('vb-explanation');
                explanationDiv.innerHTML = `
                    <h3>üí° Explicaciones:</h3>
                    ${explanations.map(exp => `<p>‚Ä¢ ${exp}</p>`).join('')}
                `;
                explanationDiv.classList.add('show');
            }
        }

        function resetVB() {
            vbScore = 0;
            updateScore('vb-score', 0, 12);
            updateProgress('vb-progress', 0, 12);
            document.getElementById('vb-explanation').classList.remove('show');
            initVB();
        }

        // Funciones para C√≥mics
        function initComic() {
            // Reiniciar parte visual
            visualComicScore = 0;
            visualAssociations = {};
            
            // Limpiar selecciones visuales
            document.querySelectorAll('.element-select').forEach(select => {
                select.value = '';
                select.classList.remove('correct', 'incorrect');
            });
            
            document.querySelectorAll('.result-indicator').forEach(indicator => {
                indicator.textContent = '';
            });
            
            document.getElementById('visual-feedback').innerHTML = '';
            
            // Inicializar preguntas te√≥ricas
            currentComicQuestions = comicData.sort(() => Math.random() - 0.5).slice(0, 6);
            const container = document.getElementById('comic-exercise');
            container.innerHTML = '';
            
            currentComicQuestions.forEach((question, index) => {
                const div = document.createElement('div');
                div.className = 'comic-question';
                div.innerHTML = `
                    <h4>Pregunta ${index + 1}: ${question.question}</h4>
                    <div class="options">
                        ${question.options.map((option, optIndex) => 
                            `<div class="option" onclick="selectOption(${index}, ${optIndex})" id="option-${index}-${optIndex}">
                                ${option}
                            </div>`
                        ).join('')}
                    </div>
                `;
                container.appendChild(div);
            });
        }

        // Funci√≥n para manejar las asociaciones n√∫mero-elemento
        function selectAssociation(number, elementType) {
            visualAssociations[number] = elementType;
            
            // Definir las respuestas correctas
            const correctAnswers = {
                1: 'vi√±eta',
                2: 'globo-dialogo', 
                3: 'cartucho',
                4: 'globo-pensamiento',
                5: 'onomatopeya',
                6: 'lineas-cineticas'
            };
            
            const select = document.querySelector(`[data-number="${number}"]`);
            const indicator = document.getElementById(`result-${number}`);
            
            if (elementType === '') {
                // Si no hay selecci√≥n, limpiar
                select.classList.remove('correct', 'incorrect');
                indicator.textContent = '';
                return;
            }
            
            if (elementType === correctAnswers[number]) {
                // Respuesta correcta
                select.classList.remove('incorrect');
                select.classList.add('correct');
                indicator.textContent = '‚úÖ';
                indicator.style.color = '#48bb78';
            } else {
                // Respuesta incorrecta
                select.classList.remove('correct');
                select.classList.add('incorrect');
                indicator.textContent = '‚ùå';
                indicator.style.color = '#f56565';
            }
            
            // Calcular puntuaci√≥n visual
            visualComicScore = 0;
            for (let i = 1; i <= 6; i++) {
                if (visualAssociations[i] === correctAnswers[i]) {
                    visualComicScore++;
                }
            }
            
            // Actualizar puntuaci√≥n total
            const totalScore = visualComicScore + comicScore;
            updateScore('comic-score', totalScore, 12);
            updateProgress('comic-progress', totalScore, 12);
            
            // Mostrar mensaje de completado si todas est√°n correctas
            if (visualComicScore === 6) {
                document.getElementById('visual-feedback').innerHTML = 
                    '<span class="feedback-correct">üéâ ¬°Excelente! Has identificado correctamente todos los elementos del c√≥mic</span>';
            } else {
                document.getElementById('visual-feedback').innerHTML = '';
            }
        }

        function selectOption(questionIndex, optionIndex) {
            // Limpiar selecciones previas
            document.querySelectorAll(`[id^="option-${questionIndex}-"]`).forEach(opt => {
                opt.classList.remove('selected');
            });
            
            // Marcar nueva selecci√≥n
            document.getElementById(`option-${questionIndex}-${optionIndex}`).classList.add('selected');
            
            // Guardar selecci√≥n
            currentComicQuestions[questionIndex].selected = optionIndex;
        }

        function checkComic() {
            let theoreticalCorrect = 0;
            
            // Verificar preguntas te√≥ricas
            currentComicQuestions.forEach((question, index) => {
                const options = document.querySelectorAll(`[id^="option-${index}-"]`);
                
                options.forEach((option, optIndex) => {
                    option.classList.remove('correct', 'incorrect');
                    
                    if (optIndex === question.correct) {
                        option.classList.add('correct');
                    } else if (optIndex === question.selected && question.selected !== question.correct) {
                        option.classList.add('incorrect');
                    }
                });
                
                if (question.selected === question.correct) {
                    theoreticalCorrect++;
                }
            });
            
            comicScore = theoreticalCorrect;
            const totalScore = visualComicScore + comicScore;
            updateScore('comic-score', totalScore, 12);
            updateProgress('comic-progress', totalScore, 12);
        }

        function resetComic() {
            comicScore = 0;
            visualComicScore = 0;
            updateScore('comic-score', 0, 12);
            updateProgress('comic-progress', 0, 12);
            initComic();
        }

        // Funci√≥n para mostrar ejercicios
        function showExercise(type) {
            // Ocultar todos los ejercicios
            document.getElementById('determinants-exercise').classList.add('hidden');
            document.getElementById('vb-exercise-container').classList.add('hidden');
            document.getElementById('comic-exercise-container').classList.add('hidden');
            
            // Desactivar todos los botones del men√∫
            document.querySelectorAll('.menu-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Mostrar el ejercicio seleccionado y activar su bot√≥n
            if (type === 'determinants') {
                document.getElementById('determinants-exercise').classList.remove('hidden');
                document.querySelector('[onclick="showExercise(\'determinants\')"]').classList.add('active');
            } else if (type === 'vb') {
                document.getElementById('vb-exercise-container').classList.remove('hidden');
                document.querySelector('[onclick="showExercise(\'vb\')"]').classList.add('active');
            } else if (type === 'comic') {
                document.getElementById('comic-exercise-container').classList.remove('hidden');
                document.querySelector('[onclick="showExercise(\'comic\')"]').classList.add('active');
            }
        }

        // Funciones auxiliares
        function updateScore(elementId, score, total) {
            document.getElementById(elementId).textContent = `Puntuaci√≥n: ${score}/${total}`;
        }

        function updateProgress(elementId, score, total) {
            const percentage = (score / total) * 100;
            document.getElementById(elementId).style.width = `${percentage}%`;
        }

        // Inicializar juegos al cargar la p√°gina
        window.onload = function() {
            initDeterminants();
            initVB();
            initComic();
            showExercise('determinants'); // Mostrar determinantes por defecto
        };
    </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9a8dcf3f95c2d781',t:'MTc2NDg3NzU4My4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>