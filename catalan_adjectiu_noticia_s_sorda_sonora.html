<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Practica Catal√† - 5√® Prim√†ria</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Comic Sans MS', 'Arial', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }

        h1 {
            text-align: center;
            color: #667eea;
            margin-bottom: 10px;
            font-size: 2.5em;
        }

        .subtitle {
            text-align: center;
            color: #764ba2;
            margin-bottom: 30px;
            font-size: 1.2em;
        }

        .menu {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
        }

        .menu-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 20px;
            border-radius: 15px;
            cursor: pointer;
            font-size: 1.1em;
            font-weight: bold;
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .menu-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.4);
        }

        .menu-btn.active {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        }

        .section {
            display: none;
            animation: fadeIn 0.5s;
        }

        .section.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .theory-box {
            background: #f0f4ff;
            border-left: 5px solid #667eea;
            padding: 20px;
            margin: 20px 0;
            border-radius: 10px;
        }

        .theory-box h3 {
            color: #667eea;
            margin-bottom: 10px;
        }

        .theory-box ul {
            margin-left: 20px;
            line-height: 1.8;
        }

        .exercise {
            background: #fff9f0;
            border: 2px solid #ffd700;
            padding: 20px;
            margin: 20px 0;
            border-radius: 10px;
        }

        .question {
            font-size: 1.1em;
            margin-bottom: 15px;
            color: #333;
            font-weight: bold;
        }

        .options {
            display: grid;
            gap: 10px;
        }

        .option-btn {
            background: white;
            border: 2px solid #667eea;
            padding: 15px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1em;
            transition: all 0.3s;
            text-align: left;
        }

        .option-btn:hover {
            background: #f0f4ff;
            transform: translateX(5px);
        }

        .option-btn.correct {
            background: #4caf50;
            color: white;
            border-color: #4caf50;
        }

        .option-btn.incorrect {
            background: #f44336;
            color: white;
            border-color: #f44336;
        }

        .option-btn.disabled {
            cursor: not-allowed;
            opacity: 0.6;
        }

        .feedback {
            margin-top: 15px;
            padding: 15px;
            border-radius: 10px;
            font-weight: bold;
            display: none;
        }

        .feedback.show {
            display: block;
        }

        .feedback.correct {
            background: #c8e6c9;
            color: #2e7d32;
        }

        .feedback.incorrect {
            background: #ffcdd2;
            color: #c62828;
        }

        .score {
            text-align: center;
            font-size: 1.5em;
            margin: 20px 0;
            padding: 15px;
            background: linear-gradient(135deg, #84fab0 0%, #8fd3f4 100%);
            border-radius: 10px;
            color: white;
            font-weight: bold;
        }

        input[type="text"] {
            width: 100%;
            padding: 12px;
            font-size: 1em;
            border: 2px solid #667eea;
            border-radius: 8px;
            margin: 10px 0;
        }

        .submit-btn {
            background: #4caf50;
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1em;
            font-weight: bold;
            margin: 10px 5px;
            transition: transform 0.3s;
        }

        .submit-btn:hover {
            transform: scale(1.05);
        }

        .reset-btn {
            background: #ff9800;
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1em;
            font-weight: bold;
            margin: 10px 5px;
            transition: transform 0.3s;
        }

        .reset-btn:hover {
            transform: scale(1.05);
        }

        .word-game {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin: 20px 0;
            justify-content: center;
        }

        .word-card {
            background: white;
            border: 2px solid #667eea;
            padding: 15px 25px;
            border-radius: 10px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
        }

        .word-card:hover {
            transform: scale(1.1);
            background: #f0f4ff;
        }

        .word-card.selected-s-sorda {
            background: #ff6b6b;
            color: white;
            border-color: #ff6b6b;
        }

        .word-card.selected-s-sonora {
            background: #4ecdc4;
            color: white;
            border-color: #4ecdc4;
        }

        .category-boxes {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }

        .category-box {
            border: 3px dashed #667eea;
            padding: 20px;
            border-radius: 15px;
            min-height: 150px;
        }

        .category-box h4 {
            text-align: center;
            margin-bottom: 15px;
            font-size: 1.3em;
        }

        .category-box.s-sorda {
            background: #ffe0e0;
            border-color: #ff6b6b;
        }

        .category-box.s-sonora {
            background: #e0f7f7;
            border-color: #4ecdc4;
        }

        .fill-blank {
            display: inline-block;
            min-width: 80px;
            padding: 5px 10px;
            border-bottom: 2px solid #667eea;
            margin: 0 5px;
            font-weight: bold;
            color: #667eea;
        }

        .sentence {
            font-size: 1.1em;
            line-height: 2;
            margin: 15px 0;
        }

        .letter-btn {
            display: inline-block;
            background: #667eea;
            color: white;
            border: none;
            padding: 10px 20px;
            margin: 5px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1em;
            font-weight: bold;
            transition: transform 0.2s;
        }

        .letter-btn:hover {
            transform: scale(1.1);
        }

        .letter-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
        }

        .progress {
            background: #e0e0e0;
            height: 30px;
            border-radius: 15px;
            overflow: hidden;
            margin: 20px 0;
        }

        .progress-bar {
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            height: 100%;
            transition: width 0.5s;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }

        .emoji {
            font-size: 2em;
            margin: 0 10px;
        }

        .generate-more-btn {
            background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1.1em;
            font-weight: bold;
            margin: 20px auto;
            display: block;
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .generate-more-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(17, 153, 142, 0.3);
        }

        .generate-more-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
        }

        .loading {
            text-align: center;
            padding: 30px;
            font-size: 1.2em;
            color: #667eea;
        }

        .loading:after {
            content: '...';
            animation: dots 1.5s steps(4, end) infinite;
        }

        @keyframes dots {
            0%, 20% { content: '.'; }
            40% { content: '..'; }
            60%, 100% { content: '...'; }
        }

        .exercise-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .exercise-number {
            background: #667eea;
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-weight: bold;
        }

        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            
            h1 {
                font-size: 1.8em;
            }
            
            .menu {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üéì Practica Catal√†</h1>
        <p class="subtitle">5√® Prim√†ria - Preparaci√≥ de l'examen</p>

        <div class="menu">
            <button class="menu-btn active" onclick="showSection('adjectiu')">L'Adjectiu</button>
            <button class="menu-btn" onclick="showSection('graus')">Graus de l'Adjectiu</button>
            <button class="menu-btn" onclick="showSection('sufixos')">Sufixos</button>
            <button class="menu-btn" onclick="showSection('s-sorda-sonora')">S Sorda i Sonora</button>
            <button class="menu-btn" onclick="showSection('noticia')">La Not√≠cia</button>
        </div>

        <!-- SECCI√ì 1: L'ADJECTIU -->
        <div id="adjectiu" class="section active">
            <h2 style="color: #667eea; margin-bottom: 20px;">üìù L'Adjectiu</h2>
            
            <div class="theory-box">
                <h3>Qu√® √©s un adjectiu?</h3>
                <p>L'adjectiu √©s una paraula que expressa qualitats o caracter√≠stiques del nom. Concorden en g√®nere i nombre amb el nom que acompanya.</p>
                <ul>
                    <li>Generalment, els adjectius tenen una forma per al mascul√≠ i una per al femen√≠: <em>eixut/eixuta, estrof/estrofa</em></li>
                    <li>Per√≤ tamb√© n'hi ha que nom√©s tenen una √∫nica forma per als dos g√®neres: <em>alegre/alegre, feli√ß/feli√ß</em></li>
                </ul>
            </div>

            <div class="exercise">
                <div class="question">1. Identifica els adjectius en aquesta frase:</div>
                <p style="font-size: 1.2em; margin: 15px 0;">"La casa <strong>gran</strong> t√© un jard√≠ <strong>bonic</strong> i flors <strong>vermelles</strong>."</p>
                <div class="options">
                    <button class="option-btn" onclick="checkAnswer(this, true, 'adj1')">gran, bonic, vermelles</button>
                    <button class="option-btn" onclick="checkAnswer(this, false, 'adj1')">casa, jard√≠, flors</button>
                    <button class="option-btn" onclick="checkAnswer(this, false, 'adj1')">gran, jard√≠, vermelles</button>
                </div>
                <div class="feedback" id="feedback-adj1"></div>
            </div>

            <div class="exercise">
                <div class="question">2. Quin adjectiu concorda correctament?</div>
                <p style="font-size: 1.1em; margin: 15px 0;">"Les noies s√≥n molt _______"</p>
                <div class="options">
                    <button class="option-btn" onclick="checkAnswer(this, false, 'adj2')">alt</button>
                    <button class="option-btn" onclick="checkAnswer(this, false, 'adj2')">alts</button>
                    <button class="option-btn" onclick="checkAnswer(this, true, 'adj2')">altes</button>
                    <button class="option-btn" onclick="checkAnswer(this, false, 'adj2')">alta</button>
                </div>
                <div class="feedback" id="feedback-adj2"></div>
            </div>

            <div class="exercise">
                <div class="question">3. Escriu 3 adjectius que descriguin el teu millor amic/amiga:</div>
                <input type="text" id="adj-input" placeholder="Exemple: simp√†tic, intel¬∑ligent, divertit...">
                <button class="submit-btn" onclick="checkOpenAnswer('adj-input', 'adj3')">Comprovar</button>
                <div class="feedback" id="feedback-adj3"></div>
            </div>

            <button class="generate-more-btn" onclick="generateMoreExercises('adjectiu')">
                ‚ú® Generar m√©s exercicis
            </button>
            <div id="adjectiu-extra"></div>
        </div>

        <!-- SECCI√ì 2: GRAUS DE L'ADJECTIU -->
        <div id="graus" class="section">
            <h2 style="color: #667eea; margin-bottom: 20px;">üìä Graus de l'Adjectiu</h2>
            
            <div class="theory-box">
                <h3>Graus de l'adjectiu</h3>
                <p><strong>Positiu:</strong> Indica la qualitat d'un nom: <em>alt</em></p>
                <p><strong>Comparatiu:</strong> Serveix per comparar la intensitat d'una qualitat entre dos noms:</p>
                <ul>
                    <li><strong>De superioritat:</strong> m√©s alt que...</li>
                    <li><strong>D'igualtat:</strong> tan alt com...</li>
                    <li><strong>D'inferioritat:</strong> menys alt que...</li>
                </ul>
                <p><strong>Superlatiu:</strong> Expressa la qualitat en el grau m√†xim: <em>alt√≠ssim / el m√©s alt</em></p>
            </div>

            <div class="exercise">
                <div class="question">1. Identifica el grau de l'adjectiu: "La Maria √©s <strong>m√©s intel¬∑ligent que</strong> en Pere"</div>
                <div class="options">
                    <button class="option-btn" onclick="checkAnswer(this, false, 'grau1')">Positiu</button>
                    <button class="option-btn" onclick="checkAnswer(this, true, 'grau1')">Comparatiu de superioritat</button>
                    <button class="option-btn" onclick="checkAnswer(this, false, 'grau1')">Comparatiu d'igualtat</button>
                    <button class="option-btn" onclick="checkAnswer(this, false, 'grau1')">Superlatiu</button>
                </div>
                <div class="feedback" id="feedback-grau1"></div>
            </div>

            <div class="exercise">
                <div class="question">2. Completa amb el comparatiu d'igualtat: "En Joan √©s ___ alt ___ el seu germ√†"</div>
                <div class="options">
                    <button class="option-btn" onclick="checkAnswer(this, false, 'grau2')">m√©s... que</button>
                    <button class="option-btn" onclick="checkAnswer(this, true, 'grau2')">tan... com</button>
                    <button class="option-btn" onclick="checkAnswer(this, false, 'grau2')">menys... que</button>
                </div>
                <div class="feedback" id="feedback-grau2"></div>
            </div>

            <div class="exercise">
                <div class="question">3. Quin √©s el superlatiu de "r√†pid"?</div>
                <div class="options">
                    <button class="option-btn" onclick="checkAnswer(this, false, 'grau3')">m√©s r√†pid</button>
                    <button class="option-btn" onclick="checkAnswer(this, true, 'grau3')">rapid√≠ssim</button>
                    <button class="option-btn" onclick="checkAnswer(this, false, 'grau3')">tan r√†pid</button>
                    <button class="option-btn" onclick="checkAnswer(this, false, 'grau3')">menys r√†pid</button>
                </div>
                <div class="feedback" id="feedback-grau3"></div>
            </div>

            <div class="exercise">
                <div class="question">4. Crea una frase amb un comparatiu d'inferioritat:</div>
                <input type="text" id="grau-input" placeholder="Exemple: Aquest llibre √©s menys interessant que l'altre">
                <button class="submit-btn" onclick="checkComparativeAnswer('grau-input', 'grau4')">Comprovar</button>
                <div class="feedback" id="feedback-grau4"></div>
            </div>

            <button class="generate-more-btn" onclick="generateMoreExercises('graus')">
                ‚ú® Generar m√©s exercicis
            </button>
            <div id="graus-extra"></div>
        </div>

        <!-- SECCI√ì 3: SUFIXOS -->
        <div id="sufixos" class="section">
            <h2 style="color: #667eea; margin-bottom: 20px;">üî§ Sufixos de l'Adjectiu</h2>
            
            <div class="theory-box">
                <h3>Sufixos de l'adjectiu</h3>
                <p><strong>Diminutiu</strong> (-et/-eta, -ol/-ola, -of/-ofa, -on/-ona, -√≠/-ina): <em>vellet, petit√≥</em></p>
                <p><strong>Augmentatiu</strong> (-√†s/-assa, -arr√≥/-arrona): <em>gross√†s, brutarro</em></p>
                <p><strong>Despectiu</strong> (-ot/-ota, -astre/-astra): <em>baixota, poetastre</em></p>
            </div>

            <div class="exercise">
                <div class="question">1. Quin tipus de sufix t√© la paraula "gross√†s"?</div>
                <div class="options">
                    <button class="option-btn" onclick="checkAnswer(this, false, 'suf1')">Diminutiu</button>
                    <button class="option-btn" onclick="checkAnswer(this, true, 'suf1')">Augmentatiu</button>
                    <button class="option-btn" onclick="checkAnswer(this, false, 'suf1')">Despectiu</button>
                </div>
                <div class="feedback" id="feedback-suf1"></div>
            </div>

            <div class="exercise">
                <div class="question">2. Transforma "poeta" en un adjectiu despectiu:</div>
                <div class="options">
                    <button class="option-btn" onclick="checkAnswer(this, false, 'suf2')">poetet</button>
                    <button class="option-btn" onclick="checkAnswer(this, true, 'suf2')">poetastre</button>
                    <button class="option-btn" onclick="checkAnswer(this, false, 'suf2')">poet√†s</button>
                </div>
                <div class="feedback" id="feedback-suf2"></div>
            </div>

            <div class="exercise">
                <div class="question">3. "Baixota" cont√© un sufix:</div>
                <div class="options">
                    <button class="option-btn" onclick="checkAnswer(this, false, 'suf3')">Diminutiu</button>
                    <button class="option-btn" onclick="checkAnswer(this, false, 'suf3')">Augmentatiu</button>
                    <button class="option-btn" onclick="checkAnswer(this, true, 'suf3')">Despectiu</button>
                </div>
                <div class="feedback" id="feedback-suf3"></div>
            </div>

            <div class="exercise">
                <div class="question">4. Crea el diminutiu de "petit":</div>
                <input type="text" id="suf-input" placeholder="Escriu la resposta aqu√≠...">
                <button class="submit-btn" onclick="checkSuffixAnswer('suf-input', 'suf4', ['petit√≥', 'petitona', 'petitet', 'petiteta'])">Comprovar</button>
                <div class="feedback" id="feedback-suf4"></div>
            </div>

            <button class="generate-more-btn" onclick="generateMoreExercises('sufixos')">
                ‚ú® Generar m√©s exercicis
            </button>
            <div id="sufixos-extra"></div>
        </div>

        <!-- SECCI√ì 4: S SORDA I SONORA -->
        <div id="s-sorda-sonora" class="section">
            <h2 style="color: #667eea; margin-bottom: 20px;">üîä S Sorda i S Sonora</h2>
            
            <div class="theory-box">
                <h3>S Sorda i S Sonora - Regles</h3>
                <p><strong>S SORDA</strong> (so fort com a "ss"):</p>
                <ul>
                    <li><strong>S:</strong> Principi i final de paraula (sal, mes), entre vocal i consonant (pasta)</li>
                    <li><strong>SS:</strong> Entre vocals (passer)</li>
                    <li><strong>C + E/I:</strong> (cercle, cirera)</li>
                    <li><strong>√á + A/O/U:</strong> (ca√ßa, cami√≥, iogurt)</li>
                    <li><strong>SC:</strong> Entre vocals (piscina)</li>
                </ul>
                <p><strong>S SONORA</strong> (so suau com a "z"):</p>
                <ul>
                    <li><strong>S:</strong> Entre vocals (casa)</li>
                    <li><strong>Z:</strong> Principi de paraula (zebra), despr√©s de consonant (marxar)</li>
                </ul>
            </div>

            <div class="exercise">
                <div class="question">1. Completa amb S, SS, C, √á o Z:</div>
                <div class="sentence">
                    <p>CA_A <button class="letter-btn" onclick="selectLetter(this, 'S', 1, 'CASA')">S</button> 
                    <button class="letter-btn" onclick="selectLetter(this, 'SS', 1, 'CASA')">SS</button>
                    <button class="letter-btn" onclick="selectLetter(this, 'Z', 1, 'CASA')">Z</button></p>
                    
                    <p>PI_INA <button class="letter-btn" onclick="selectLetter(this, 'S', 2, 'PISCINA')">S</button>
                    <button class="letter-btn" onclick="selectLetter(this, 'SC', 2, 'PISCINA')">SC</button>
                    <button class="letter-btn" onclick="selectLetter(this, 'C', 2, 'PISCINA')">C</button></p>
                    
                    <p>PA_ER <button class="letter-btn" onclick="selectLetter(this, 'S', 3, 'PASSER')">S</button>
                    <button class="letter-btn" onclick="selectLetter(this, 'SS', 3, 'PASSER')">SS</button>
                    <button class="letter-btn" onclick="selectLetter(this, 'Z', 3, 'PASSER')">Z</button></p>
                    
                    <p>_EBRA <button class="letter-btn" onclick="selectLetter(this, 'S', 4, 'ZEBRA')">S</button>
                    <button class="letter-btn" onclick="selectLetter(this, 'Z', 4, 'ZEBRA')">Z</button>
                    <button class="letter-btn" onclick="selectLetter(this, 'C', 4, 'ZEBRA')">C</button></p>
                    
                    <p>ESMO_AR <button class="letter-btn" onclick="selectLetter(this, 'S', 5, 'ESMORZAR')">S</button>
                    <button class="letter-btn" onclick="selectLetter(this, 'RZ', 5, 'ESMORZAR')">RZ</button>
                    <button class="letter-btn" onclick="selectLetter(this, 'RC', 5, 'ESMORZAR')">RC</button></p>
                </div>
                <div class="feedback" id="feedback-letters"></div>
                <button class="reset-btn" onclick="resetLetters()">Reiniciar</button>
            </div>

            <div class="exercise">
                <div class="question">2. Classifica aquestes paraules segons si tenen S sorda o S sonora:</div>
                <div class="word-game" id="word-game">
                    <div class="word-card" onclick="classifyWord(this, 's-sorda')">SOL</div>
                    <div class="word-card" onclick="classifyWord(this, 's-sonora')">ROSA</div>
                    <div class="word-card" onclick="classifyWord(this, 's-sorda')">MASSA</div>
                    <div class="word-card" onclick="classifyWord(this, 's-sonora')">M√öSICA</div>
                    <div class="word-card" onclick="classifyWord(this, 's-sorda')">CAN√á√ì</div>
                    <div class="word-card" onclick="classifyWord(this, 's-sonora')">√âSEK</div>
                    <div class="word-card" onclick="classifyWord(this, 's-sorda')">PASSA</div>
                    <div class="word-card" onclick="classifyWord(this, 's-sonora')">DESERT</div>
                </div>
                <p style="text-align: center; margin: 15px 0; font-weight: bold;">Fes clic a cada paraula per classificar-la:</p>
                <div class="category-boxes">
                    <div class="category-box s-sorda">
                        <h4>üî¥ S SORDA</h4>
                        <div id="s-sorda-box"></div>
                    </div>
                    <div class="category-box s-sonora">
                        <h4>üîµ S SONORA</h4>
                        <div id="s-sonora-box"></div>
                    </div>
                </div>
                <button class="submit-btn" onclick="checkClassification()">Comprovar</button>
                <button class="reset-btn" onclick="resetClassification()">Reiniciar</button>
                <div class="feedback" id="feedback-classify"></div>
            </div>

            <div class="exercise">
                <div class="question">3. Ordena les lletres i descobreix les paraules ocultes:</div>
                <div style="background: white; padding: 15px; border-radius: 10px; margin: 10px 0;">
                    <p><strong>ATGAIPES</strong> = <input type="text" id="word1" style="width: 200px;"> 
                    <span style="margin-left: 10px; color: #666;">(tipus de cal√ßat)</span></p>
                    
                    <p><strong>VSD√ìIII</strong> = <input type="text" id="word2" style="width: 200px;">
                    <span style="margin-left: 10px; color: #666;">(menjar dol√ß)</span></p>
                    
                    <p><strong>NIECAM</strong> = <input type="text" id="word3" style="width: 200px;">
                    <span style="margin-left: 10px; color: #666;">(lloc on es projecten pel¬∑l√≠cules)</span></p>
                </div>
                <button class="submit-btn" onclick="checkWordPuzzle()">Comprovar</button>
                <div class="feedback" id="feedback-puzzle"></div>
            </div>

            <button class="generate-more-btn" onclick="generateMoreExercises('s-sorda-sonora')">
                ‚ú® Generar m√©s exercicis
            </button>
            <div id="s-sorda-sonora-extra"></div>
        </div>

        <!-- SECCI√ì 5: LA NOT√çCIA -->
        <div id="noticia" class="section">
            <h2 style="color: #667eea; margin-bottom: 20px;">üì∞ La Not√≠cia</h2>
            
            <div class="theory-box">
                <h3>Parts de la not√≠cia</h3>
                <p><strong>TITULAR o CAP√áALERA:</strong> Una oraci√≥ simple, de vegades no √©s una oraci√≥ completa. Dona la informaci√≥ m√©s essencial.</p>
                <p><strong>ENTRADA:</strong> Introdueix la not√≠cia de manera breu. Resumeix breument el contingut.</p>
                <p><strong>COS DE LA NOT√çCIA:</strong> S'expliquen els fets responent a les preguntes seg√ºents:</p>
                <ul>
                    <li><strong>Qu√®</strong> (fet o esdeveniment)</li>
                    <li><strong>Qui</strong> (protagonistes o afectats)</li>
                    <li><strong>Quan</strong> (temps)</li>
                    <li><strong>On</strong> (lloc o espai)</li>
                    <li><strong>Com</strong> (manera)</li>
                    <li><strong>Per qu√®</strong> (causes)</li>
                </ul>
                <p><strong>IMATGES I PEUS DE FOTOS:</strong> Les imatges faciliten la comprensi√≥ del text.</p>
            </div>

            <div class="exercise">
                <div class="question">1. Identifica la part de la not√≠cia: "Incendi a Barcelona"</div>
                <div class="options">
                    <button class="option-btn" onclick="checkAnswer(this, true, 'not1')">Titular</button>
                    <button class="option-btn" onclick="checkAnswer(this, false, 'not1')">Entrada</button>
                    <button class="option-btn" onclick="checkAnswer(this, false, 'not1')">Cos de la not√≠cia</button>
                    <button class="option-btn" onclick="checkAnswer(this, false, 'not1')">Peu de foto</button>
                </div>
                <div class="feedback" id="feedback-not1"></div>
            </div>

            <div class="exercise">
                <div class="question">2. Quina pregunta respon aquesta frase?: "L'incendi va oc√≥rrer ahir a la tarda"</div>
                <div class="options">
                    <button class="option-btn" onclick="checkAnswer(this, false, 'not2')">Qu√®?</button>
                    <button class="option-btn" onclick="checkAnswer(this, false, 'not2')">Qui?</button>
                    <button class="option-btn" onclick="checkAnswer(this, true, 'not2')">Quan?</button>
                    <button class="option-btn" onclick="checkAnswer(this, false, 'not2')">On?</button>
                </div>
                <div class="feedback" id="feedback-not2"></div>
            </div>

            <div class="exercise">
                <div class="question">3. Relaciona cada part amb la seva funci√≥:</div>
                <div style="background: white; padding: 20px; border-radius: 10px; margin: 15px 0;">
                    <p><strong>Titular:</strong> 
                        <select id="titular-select" style="padding: 8px; font-size: 1em; margin-left: 10px;">
                            <option value="">Selecciona...</option>
                            <option value="correct">Dona la informaci√≥ essencial</option>
                            <option value="wrong1">Explica els detalls</option>
                            <option value="wrong2">Mostra una imatge</option>
                        </select>
                    </p>
                    <p><strong>Entrada:</strong>
                        <select id="entrada-select" style="padding: 8px; font-size: 1em; margin-left: 10px;">
                            <option value="">Selecciona...</option>
                            <option value="wrong1">Dona la informaci√≥ essencial</option>
                            <option value="correct">Resumeix breument la not√≠cia</option>
                            <option value="wrong2">Respon a totes les preguntes</option>
                        </select>
                    </p>
                    <p><strong>Cos:</strong>
                        <select id="cos-select" style="padding: 8px; font-size: 1em; margin-left: 10px;">
                            <option value="">Selecciona...</option>
                            <option value="wrong1">Presenta la not√≠cia</option>
                            <option value="wrong2">√âs el t√≠tol</option>
                            <option value="correct">Desenvolupa tots els detalls</option>
                        </select>
                    </p>
                </div>
                <button class="submit-btn" onclick="checkNoticiaMatching()">Comprovar</button>
                <div class="feedback" id="feedback-not3"></div>
            </div>

            <div class="exercise">
                <div class="question">4. Escriu un titular per a aquesta not√≠cia:</div>
                <div style="background: #f0f4ff; padding: 15px; border-radius: 10px; margin: 10px 0;">
                    <p><em>Ahir al mat√≠, un grup d'estudiants de 5√® de prim√†ria de l'escola Gabrielistes van guanyar el primer premi del concurs de rob√≤tica celebrat a Barcelona. Els nens i nenes van crear un robot capa√ß de reciclar pl√†stic autom√†ticament.</em></p>
                </div>
                <input type="text" id="titular-input" placeholder="Escriu el teu titular aqu√≠...">
                <button class="submit-btn" onclick="checkTitularAnswer()">Comprovar</button>
                <div class="feedback" id="feedback-not4"></div>
            </div>

            <button class="generate-more-btn" onclick="generateMoreExercises('noticia')">
                ‚ú® Generar m√©s exercicis
            </button>
            <div id="noticia-extra"></div>
        </div>

        <!-- Puntuaci√≥ Global -->
        <div class="score" id="global-score">
            <span class="emoji">üåü</span>
            Encerts: <span id="correct-count">0</span> | Errors: <span id="incorrect-count">0</span>
            <span class="emoji">üåü</span>
        </div>
    </div>

    <script>
        let correctCount = 0;
        let incorrectCount = 0;
        let letterAnswers = {};
        let wordClassification = {
            'SOL': 's-sorda',
            'ROSA': 's-sonora',
            'MASSA': 's-sorda',
            'M√öSICA': 's-sonora',
            'CAN√á√ì': 's-sorda',
            'DESIG': 's-sonora',
            'PASSA': 's-sorda',
            'DESERT': 's-sonora'
        };
        let userClassification = {};
        let isGenerating = false;
        let exerciseCounters = {
            adjectiu: 0,
            graus: 0,
            sufixos: 0,
            's-sorda-sonora': 0,
            noticia: 0
        };

        function showSection(sectionId) {
            // Ocultar todas las secciones
            document.querySelectorAll('.section').forEach(section => {
                section.classList.remove('active');
            });
            
            // Mostrar la secci√≥n seleccionada
            document.getElementById(sectionId).classList.add('active');
            
            // Actualizar botones del men√∫
            document.querySelectorAll('.menu-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
        }

        function checkAnswer(button, isCorrect, feedbackId) {
            const options = button.parentElement.querySelectorAll('.option-btn');
            const feedback = document.getElementById('feedback-' + feedbackId);
            
            // Deshabilitar todos los botones
            options.forEach(opt => {
                opt.classList.add('disabled');
                opt.disabled = true;
            });
            
            // Marcar respuesta
            if (isCorrect) {
                button.classList.add('correct');
                feedback.className = 'feedback correct show';
                feedback.innerHTML = '‚úÖ Molt b√©! Resposta correcta!';
                correctCount++;
            } else {
                button.classList.add('incorrect');
                feedback.className = 'feedback incorrect show';
                feedback.innerHTML = '‚ùå No √©s correcte. Torna-ho a intentar en el proper exercici!';
                incorrectCount++;
            }
            
            updateScore();
        }

        function checkOpenAnswer(inputId, feedbackId) {
            const input = document.getElementById(inputId);
            const feedback = document.getElementById('feedback-' + feedbackId);
            const value = input.value.trim();
            
            if (value.length > 0) {
                feedback.className = 'feedback correct show';
                feedback.innerHTML = '‚úÖ Molt b√©! Has escrit: "' + value + '"';
                correctCount++;
                updateScore();
            } else {
                feedback.className = 'feedback incorrect show';
                feedback.innerHTML = '‚ùå Si us plau, escriu almenys un adjectiu.';
            }
        }

        function checkComparativeAnswer(inputId, feedbackId) {
            const input = document.getElementById(inputId);
            const feedback = document.getElementById('feedback-' + feedbackId);
            const value = input.value.toLowerCase().trim();
            
            if (value.includes('menys') && value.includes('que')) {
                feedback.className = 'feedback correct show';
                feedback.innerHTML = '‚úÖ Excel¬∑lent! Has usat correctament el comparatiu d\'inferioritat!';
                correctCount++;
            } else if (value.length > 0) {
                feedback.className = 'feedback incorrect show';
                feedback.innerHTML = '‚ùå Recorda que el comparatiu d\'inferioritat usa "menys... que"';
                incorrectCount++;
            } else {
                feedback.className = 'feedback incorrect show';
                feedback.innerHTML = '‚ùå Si us plau, escriu una frase.';
            }
            updateScore();
        }

        function checkSuffixAnswer(inputId, feedbackId, correctAnswers) {
            const input = document.getElementById(inputId);
            const feedback = document.getElementById('feedback-' + feedbackId);
            const value = input.value.toLowerCase().trim();
            
            if (correctAnswers.includes(value)) {
                feedback.className = 'feedback correct show';
                feedback.innerHTML = '‚úÖ Correcte! "' + value + '" √©s un diminutiu v√†lid!';
                correctCount++;
            } else if (value.length > 0) {
                feedback.className = 'feedback incorrect show';
                feedback.innerHTML = '‚ùå Prova amb sufixos diminutius com: -et, -eta, -√≥, -ona, -√≠, -ina';
                incorrectCount++;
            } else {
                feedback.className = 'feedback incorrect show';
                feedback.innerHTML = '‚ùå Si us plau, escriu una resposta.';
            }
            updateScore();
        }

        function selectLetter(button, letter, wordNum, correctWord) {
            const allButtons = button.parentElement.querySelectorAll('.letter-btn');
            allButtons.forEach(btn => {
                btn.disabled = true;
                btn.style.opacity = '0.5';
            });
            
            button.style.opacity = '1';
            button.style.background = '#4caf50';
            
            letterAnswers[wordNum] = {
                selected: letter,
                correct: correctWord
            };
            
            // Check if all words are completed
            if (Object.keys(letterAnswers).length === 5) {
                let allCorrect = true;
                let correctWords = {
                    1: 'S',
                    2: 'SC',
                    3: 'SS',
                    4: 'Z',
                    5: 'RZ'
                };
                
                for (let i = 1; i <= 5; i++) {
                    if (letterAnswers[i].selected !== correctWords[i]) {
                        allCorrect = false;
                    }
                }
                
                const feedback = document.getElementById('feedback-letters');
                if (allCorrect) {
                    feedback.className = 'feedback correct show';
                    feedback.innerHTML = '‚úÖ Perfecte! Has completat totes les paraules correctament!';
                    correctCount++;
                } else {
                    feedback.className = 'feedback incorrect show';
                    feedback.innerHTML = '‚ùå Algunes respostes no s√≥n correctes. Revisa les regles i torna-ho a intentar!';
                    incorrectCount++;
                }
                updateScore();
            }
        }

        function resetLetters() {
            letterAnswers = {};
            document.querySelectorAll('.letter-btn').forEach(btn => {
                btn.disabled = false;
                btn.style.opacity = '1';
                btn.style.background = '#667eea';
            });
            document.getElementById('feedback-letters').className = 'feedback';
        }

        function classifyWord(card, category) {
            const word = card.textContent;
            
            if (card.classList.contains('selected-s-sorda')) {
                card.classList.remove('selected-s-sorda');
                delete userClassification[word];
            } else if (card.classList.contains('selected-s-sonora')) {
                card.classList.remove('selected-s-sonora');
                delete userClassification[word];
            } else {
                if (category === 's-sorda') {
                    card.classList.add('selected-s-sorda');
                } else {
                    card.classList.add('selected-s-sonora');
                }
                userClassification[word] = category;
            }
        }

        function checkClassification() {
            const feedback = document.getElementById('feedback-classify');
            let correct = 0;
            let total = Object.keys(wordClassification).length;
            
            for (let word in wordClassification) {
                if (userClassification[word] === wordClassification[word]) {
                    correct++;
                }
            }
            
            if (correct === total) {
                feedback.className = 'feedback correct show';
                feedback.innerHTML = '‚úÖ Perfecte! Has classificat totes les paraules correctament!';
                correctCount++;
            } else {
                feedback.className = 'feedback incorrect show';
                feedback.innerHTML = `‚ùå Has encertat ${correct} de ${total}. Revisa les regles i torna-ho a intentar!`;
                incorrectCount++;
            }
            updateScore();
        }

        function resetClassification() {
            userClassification = {};
            document.querySelectorAll('.word-card').forEach(card => {
                card.classList.remove('selected-s-sorda', 'selected-s-sonora');
            });
            document.getElementById('feedback-classify').className = 'feedback';
        }

        function checkWordPuzzle() {
            const answers = {
                'word1': ['espadrilles', 'sabates'],
                'word2': ['divissi√≥', 'divisi√≥'],
                'word3': ['cinema']
            };
            
            let correct = 0;
            const word1 = document.getElementById('word1').value.toLowerCase().trim();
            const word2 = document.getElementById('word2').value.toLowerCase().trim();
            const word3 = document.getElementById('word3').value.toLowerCase().trim();
            
            if (answers.word1.includes(word1) || word1 === 'espatilles') correct++;
            if (answers.word2.includes(word2)) correct++;
            if (answers.word3.includes(word3)) correct++;
            
            const feedback = document.getElementById('feedback-puzzle');
            if (correct === 3) {
                feedback.className = 'feedback correct show';
                feedback.innerHTML = '‚úÖ Molt b√©! Has descobert totes les paraules!';
                correctCount++;
            } else {
                feedback.className = 'feedback incorrect show';
                feedback.innerHTML = `‚ùå Has encertat ${correct} de 3. Les respostes correctes s√≥n: ESPADRILLES, DIVISSI√ì, CINEMA`;
                incorrectCount++;
            }
            updateScore();
        }

        function checkNoticiaMatching() {
            const titular = document.getElementById('titular-select').value;
            const entrada = document.getElementById('entrada-select').value;
            const cos = document.getElementById('cos-select').value;
            const feedback = document.getElementById('feedback-not3');
            
            if (titular === 'correct' && entrada === 'correct' && cos === 'correct') {
                feedback.className = 'feedback correct show';
                feedback.innerHTML = '‚úÖ Excel¬∑lent! Has relacionat correctament totes les parts!';
                correctCount++;
            } else {
                feedback.className = 'feedback incorrect show';
                feedback.innerHTML = '‚ùå Alguna relaci√≥ no √©s correcta. Revisa la teoria!';
                incorrectCount++;
            }
            updateScore();
        }

        function checkTitularAnswer() {
            const input = document.getElementById('titular-input');
            const feedback = document.getElementById('feedback-not4');
            const value = input.value.trim();
            
            if (value.length > 5) {
                const hasKeywords = value.toLowerCase().includes('estudiants') || 
                                   value.toLowerCase().includes('rob√≤tica') ||
                                   value.toLowerCase().includes('premi') ||
                                   value.toLowerCase().includes('gabrielistes');
                
                if (hasKeywords) {
                    feedback.className = 'feedback correct show';
                    feedback.innerHTML = '‚úÖ Molt bon titular! Cont√© informaci√≥ essencial de la not√≠cia!';
                    correctCount++;
                } else {
                    feedback.className = 'feedback incorrect show';
                    feedback.innerHTML = '‚ö†Ô∏è El titular hauria d\'incloure la informaci√≥ m√©s important: qui va guanyar i qu√®.';
                    incorrectCount++;
                }
            } else {
                feedback.className = 'feedback incorrect show';
                feedback.innerHTML = '‚ùå Si us plau, escriu un titular.';
            }
            updateScore();
        }

        function updateScore() {
            document.getElementById('correct-count').textContent = correctCount;
            document.getElementById('incorrect-count').textContent = incorrectCount;
        }

        // Generate more exercises using Claude API
        async function generateMoreExercises(topic) {
            if (isGenerating) return;
            
            isGenerating = true;
            const button = event.target;
            button.disabled = true;
            button.textContent = '‚è≥ Generant exercicis...';
            
            const container = document.getElementById(topic + '-extra');
            const loadingDiv = document.createElement('div');
            loadingDiv.className = 'loading';
            loadingDiv.textContent = 'Creant nous exercicis';
            container.appendChild(loadingDiv);
            
            try {
                const prompt = getPromptForTopic(topic);
                const response = await fetch("https://api.anthropic.com/v1/messages", {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json",
                    },
                    body: JSON.stringify({
                        model: "claude-sonnet-4-20250514",
                        max_tokens: 1000,
                        messages: [
                            { role: "user", content: prompt }
                        ],
                    })
                });

                const data = await response.json();
                const exercisesHTML = data.content[0].text;
                
                container.removeChild(loadingDiv);
                container.innerHTML += exercisesHTML;
                exerciseCounters[topic]++;
                
                button.disabled = false;
                button.textContent = '‚ú® Generar m√©s exercicis';
            } catch (error) {
                container.removeChild(loadingDiv);
                container.innerHTML += '<div class="feedback incorrect show">‚ùå Error generant exercicis. Torna-ho a intentar.</div>';
                button.disabled = false;
                button.textContent = '‚ú® Generar m√©s exercicis';
            }
            
            isGenerating = false;
        }

        function getPromptForTopic(topic) {
            const baseNum = exerciseCounters[topic] * 3;
            
            const prompts = {
                'adjectiu': `Genera 3 exercicis nous sobre L'ADJECTIU en catal√† per a una alumna de 5√® de prim√†ria. 
                
Recorda que l'adjectiu √©s una paraula que expressa qualitats del nom i concorda en g√®nere i nombre.

Crea exercicis DIFERENTS als anteriors. Numera'ls com ${baseNum + 1}, ${baseNum + 2}, ${baseNum + 3}.

Respon NOM√âS amb HTML valid, sense markdown. Usa aquesta estructura EXACTA per cada exercici:

<div class="exercise">
    <div class="exercise-header">
        <span class="exercise-number">Exercici ${baseNum + 1}</span>
    </div>
    <div class="question">La teva pregunta aqu√≠</div>
    <div class="options">
        <button class="option-btn" onclick="checkAnswer(this, false, 'adj${baseNum + 1}')">Opci√≥ incorrecta</button>
        <button class="option-btn" onclick="checkAnswer(this, true, 'adj${baseNum + 1}')">Opci√≥ correcta</button>
        <button class="option-btn" onclick="checkAnswer(this, false, 'adj${baseNum + 1}')">Opci√≥ incorrecta</button>
    </div>
    <div class="feedback" id="feedback-adj${baseNum + 1}"></div>
</div>

Varia els tipus d'exercici: identificar adjectius, concordan√ßa, crear frases, etc.`,

                'graus': `Genera 3 exercicis nous sobre GRAUS DE L'ADJECTIU en catal√† per a 5√® de prim√†ria.

Recorda els graus:
- Positiu: alt
- Comparatiu de superioritat: m√©s alt que
- Comparatiu d'igualtat: tan alt com  
- Comparatiu d'inferioritat: menys alt que
- Superlatiu: alt√≠ssim / el m√©s alt

Numera'ls com ${baseNum + 1}, ${baseNum + 2}, ${baseNum + 3}.

Respon NOM√âS amb HTML valid, sense markdown. Usa aquesta estructura:

<div class="exercise">
    <div class="exercise-header">
        <span class="exercise-number">Exercici ${baseNum + 1}</span>
    </div>
    <div class="question">Pregunta sobre graus</div>
    <div class="options">
        <button class="option-btn" onclick="checkAnswer(this, false, 'grau${baseNum + 1}')">Opci√≥</button>
        <button class="option-btn" onclick="checkAnswer(this, true, 'grau${baseNum + 1}')">Opci√≥ correcta</button>
    </div>
    <div class="feedback" id="feedback-grau${baseNum + 1}"></div>
</div>`,

                'sufixos': `Genera 3 exercicis nous sobre SUFIXOS DE L'ADJECTIU en catal√† per a 5√® prim√†ria.

Sufixos:
- Diminutiu: -et/-eta, -ol/-ola, -√≥/-ona, -√≠/-ina (vellet, petit√≥)
- Augmentatiu: -√†s/-assa, -arr√≥/-arrona (gross√†s, brutarro)
- Despectiu: -ot/-ota, -astre/-astra (baixota, poetastre)

Numera ${baseNum + 1}, ${baseNum + 2}, ${baseNum + 3}.

Respon NOM√âS HTML valid:

<div class="exercise">
    <div class="exercise-header">
        <span class="exercise-number">Exercici ${baseNum + 1}</span>
    </div>
    <div class="question">Pregunta sobre sufixos</div>
    <div class="options">
        <button class="option-btn" onclick="checkAnswer(this, true, 'suf${baseNum + 1}')">Correcta</button>
        <button class="option-btn" onclick="checkAnswer(this, false, 'suf${baseNum + 1}')">Incorrecta</button>
    </div>
    <div class="feedback" id="feedback-suf${baseNum + 1}"></div>
</div>`,

                's-sorda-sonora': `Genera 3 exercicis nous sobre S SORDA I S SONORA en catal√† per a 5√® prim√†ria.

Regles:
S SORDA: s (inici/final/entre vocal-consonant), ss (entre vocals), c+e/i, √ß+a/o/u, sc (entre vocals)
S SONORA: s (entre vocals), z (inici/despr√©s consonant)

Numera ${baseNum + 1}, ${baseNum + 2}, ${baseNum + 3}.

Crea exercicis com: completar paraules amb S/SS/C/√á/Z, classificar paraules, etc.

Respon NOM√âS HTML valid:

<div class="exercise">
    <div class="exercise-header">
        <span class="exercise-number">Exercici ${baseNum + 1}</span>
    </div>
    <div class="question">Pregunta sobre S sorda/sonora</div>
    <div class="options">
        <button class="option-btn" onclick="checkAnswer(this, true, 'ss${baseNum + 1}')">Correcta</button>
        <button class="option-btn" onclick="checkAnswer(this, false, 'ss${baseNum + 1}')">Incorrecta</button>
    </div>
    <div class="feedback" id="feedback-ss${baseNum + 1}"></div>
</div>`,

                'noticia': `Genera 3 exercicis nous sobre LA NOT√çCIA en catal√† per a 5√® prim√†ria.

Parts:
- Titular/Cap√ßalera: informaci√≥ essencial
- Entrada: resum breu
- Cos: respon qu√®, qui, quan, on, com, per qu√®
- Imatges i peus de foto

Numera ${baseNum + 1}, ${baseNum + 2}, ${baseNum + 3}.

Respon NOM√âS HTML valid:

<div class="exercise">
    <div class="exercise-header">
        <span class="exercise-number">Exercici ${baseNum + 1}</span>
    </div>
    <div class="question">Pregunta sobre la not√≠cia</div>
    <div class="options">
        <button class="option-btn" onclick="checkAnswer(this, false, 'not${baseNum + 1}')">Incorrecta</button>
        <button class="option-btn" onclick="checkAnswer(this, true, 'not${baseNum + 1}')">Correcta</button>
    </div>
    <div class="feedback" id="feedback-not${baseNum + 1}"></div>
</div>`
            };
            
            return prompts[topic];
        }

        // Mensaje de √°nimo al inicio
        window.addEventListener('load', () => {
            setTimeout(() => {
                alert('üéâ Benvinguda! Practica per al teu examen de Catal√†. Molta sort! üí™');
            }, 500);
        });
    </script>
</body>
</html>
